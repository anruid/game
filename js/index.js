(function(d,c){var e=d.documentElement,b="orientationchange" in window?"orientationchange":"resize",a=function(){var f=e.clientWidth;if(!f){return}if(f>750){f=750}e.style.fontSize=10*(f/320)+"px"};if(!d.addEventListener){return}c.addEventListener(b,a,false);d.addEventListener("DOMContentLoaded",a,false)})(document,window);(function(){var a={getRandom:function(c,b){return Math.floor(Math.random()*(b-c+1))+c}};window.Tools=a})();(function(){var d=[];var b="absolute";function c(e){e=e||{};this.x=e.x||0;this.y=e.y||0;this.width=e.width||22;this.height=e.height||22;this.color=e.color||"skyblue"}c.prototype.render=function(e){a();this.x=Tools.getRandom(3,e.offsetWidth/this.width-2)*this.width;this.y=Tools.getRandom(3,e.offsetHeight/this.height-1)*this.height;var f=document.createElement("div");e.appendChild(f);d.push(f);f.style.position=b;f.style.left=this.x+"px";f.style.top=this.y+"px";f.style.width=this.width+"px";f.style.height=this.height+"px";f.style.backgroundImage="url('img/apple.png')";f.style.backgroundSize="100%"};function a(){for(var e=d.length-1;e>=0;e--){d[e].parentNode.removeChild(d[e]);d.splice(e,1)}}window.Food=c})();(function(){var b="absolute";var d=[];function c(e){e=e||{};this.score=0;this.width=e.width||22;this.height=e.height||22;this.direction=e.direction||"right";this.tdeg=e.tdeg||"rotate(0deg)";this.body=[{x:15,y:5,snake:"snakeHead"},{x:14,y:5,snake:"snakeBody"},{x:13,y:5,snake:"snakeBody"},]}c.prototype.render=function(j){a();for(var h=0,e=this.body.length;h<e;h++){var f=this.body[h];var k=document.createElement("div");j.appendChild(k).classList.add("snake");d.push(k);var g=document.getElementById("score");g.innerHTML=this.score;k.style.position=b;k.style.width=this.width+"px";k.style.height=this.height+"px";k.style.left=f.x*this.width+"px";k.style.top=f.y*this.height+"px";k.classList.add(f.snake);k.style.transform=this.tdeg}};function a(){for(var e=d.length-1;e>=0;e--){d[e].parentNode.removeChild(d[e]);d.splice(e,1)}}c.prototype.move=function(k,j){for(var g=this.body.length-1;g>0;g--){this.body[g].x=this.body[g-1].x;this.body[g].y=this.body[g-1].y}var f=this.body[0];switch(this.direction){case"right":f.x+=1;break;case"left":f.x-=1;break;case"top":f.y-=1;break;case"bottom":f.y+=1;break}var e=f.x*this.width;var l=f.y*this.height;if(e==k.x&&l==k.y){var h=this.body[this.body.length-1];this.body.push({x:h.x,y:h.y,snake:h.snake,});this.score+=1;k.render(j)}};window.Snake=c})();(function(){var c;function d(e){this.food=new Food();this.snake=new Snake();this.map=e;c=this}d.prototype.start=function(){this.food.render(this.map);this.snake.render(this.map);b();a()};function a(){document.addEventListener("keydown",function(l){switch(l.keyCode){case 37:if(this.snake.direction=="right"){this.snake.direction="right"}else{this.snake.direction="left"}this.snake.tdeg="rotate(180deg)";break;case 38:if(this.snake.direction=="bottom"){this.snake.direction="bottom"}else{this.snake.direction="top"}this.snake.tdeg="rotate(270deg)";break;case 39:if(this.snake.direction=="left"){this.snake.direction="left"}else{this.snake.direction="right"}this.snake.tdeg="rotate(0deg)";break;case 40:if(this.snake.direction=="top"){this.snake.direction="top"}else{this.snake.direction="bottom"}this.snake.tdeg="rotate(90deg)";break}}.bind(c),false);var g=document.getElementById("container");var f,e,i,h,k,j;g.addEventListener("touchstart",function(l){f=l.touches[0].pageX;e=l.touches[0].pageY},false);g.addEventListener("touchmove",function(l){l.preventDefault();i=l.changedTouches[0].pageX;h=l.changedTouches[0].pageY;k=i-f;j=h-e;if(width>height){if(Math.abs(k)>Math.abs(j)&&k>0){if(this.snake.direction=="left"){this.snake.direction="right"}else{this.snake.direction="left"}}else{if(Math.abs(k)>Math.abs(j)&&k<0){if(this.snake.direction=="right"){this.snake.direction="left"}else{this.snake.direction="right"}}else{if(Math.abs(j)>Math.abs(k)&&j>0){if(this.snake.direction=="bottom"){this.snake.direction="bottom"}else{this.snake.direction="top"}}else{if(Math.abs(j)>Math.abs(k)&&j<0){if(this.snake.direction=="top"){this.snake.direction="top"}else{this.snake.direction="bottom"}}else{}}}}}else{if(Math.abs(k)>Math.abs(j)&&k>0){if(this.snake.direction=="bottom"){this.snake.direction="bottom"}else{this.snake.direction="top";this.snake.tdeg="rotate(270deg)"}}else{if(Math.abs(k)>Math.abs(j)&&k<0){if(this.snake.direction=="top"){this.snake.direction="top"}else{this.snake.direction="bottom";this.snake.tdeg="rotate(90deg)"}}else{if(Math.abs(j)>Math.abs(k)&&j>0){if(this.snake.direction=="left"){this.snake.direction="left"}else{this.snake.direction="right";this.snake.tdeg="rotate(0deg)"}}else{if(Math.abs(j)>Math.abs(k)&&j<0){if(this.snake.direction=="right"){this.snake.direction="right"}else{this.snake.direction="left";this.snake.tdeg="rotate(180deg)"}}else{}}}}}}.bind(c))}function b(){var r=document.getElementById("close");var l=true;var v;var k;var h=document.getElementById("startPause");var e=document.getElementById("startBtn");var o=document.getElementById("startPage");
var n=document.getElementById("loser");var m=document.getElementById("loserScore");e.onclick=function(){o.style.display="none";h.style.display="block";clearInterval(v);v=setInterval(w,180);h.setAttribute("src","./img/pause.png");l=false};h.onclick=function(){if(l){clearInterval(v);v=setInterval(w,120);h.setAttribute("src","./img/pause.png");l=false}else{clearInterval(v);h.setAttribute("src","./img/start.png");l=true}};r.onclick=function(){location.reload()};var p=document.getElementById("left1");var g=document.getElementById("right1");var s=document.getElementById("top1");var f=document.getElementById("bottom1");var i=null;var q="";var j="";p.addEventListener("touchstart",function(x){x.preventDefault();q=new Date();if(this.snake.direction=="right"){this.snake.direction="right"}else{this.snake.direction="left";this.snake.tdeg="rotate(180deg)";p.style.backgroundColor="rgba(255,255,255,.5)"}t()}.bind(c));p.addEventListener("touchend",function(x){x.preventDefault();j=new Date;clearTimeout(i);clearInterval(v);clearInterval(k);p.style.backgroundColor="rgba(255,255,255,.3)";if(this.snake.score<=1){clearInterval(v);v=setInterval(w,180)}else{if(this.snake.score<=3){clearInterval(v);v=setInterval(w,160)}else{if(this.snake.score<=9){clearInterval(v);v=setInterval(w,130)}else{if(this.snake.score<=17){clearInterval(v);v=setInterval(w,110)}else{if(this.snake.score<=25){clearInterval(v);v=setInterval(w,90)}else{if(this.snake.score<=35){clearInterval(v);v=setInterval(w,80)}else{if(this.snake.score<=45){clearInterval(v);v=setInterval(w,75)}else{if(this.snake.score<=60){clearInterval(v);v=setInterval(w,70)}else{if(this.snake.score<=80){clearInterval(v);v=setInterval(w,65)}else{if(this.snake.score<=100){clearInterval(v);v=setInterval(w,50)}}}}}}}}}}}.bind(c));g.addEventListener("touchstart",function(x){x.preventDefault();q=new Date();if(this.snake.direction=="left"){this.snake.direction="left"}else{this.snake.direction="right";this.snake.tdeg="rotate(0deg)";g.style.backgroundColor="rgba(255,255,255,.5)"}t()}.bind(c));g.addEventListener("touchend",function(x){x.preventDefault();j=new Date;clearTimeout(i);clearInterval(v);clearInterval(k);g.style.backgroundColor="rgba(255,255,255,.3)";if(this.snake.score<=1){clearInterval(v);v=setInterval(w,180)}else{if(this.snake.score<=3){clearInterval(v);v=setInterval(w,160)}else{if(this.snake.score<=9){clearInterval(v);v=setInterval(w,130)}else{if(this.snake.score<=17){clearInterval(v);v=setInterval(w,110)}else{if(this.snake.score<=25){clearInterval(v);v=setInterval(w,90)}else{if(this.snake.score<=35){clearInterval(v);v=setInterval(w,80)}else{if(this.snake.score<=45){clearInterval(v);v=setInterval(w,75)}else{if(this.snake.score<=60){clearInterval(v);v=setInterval(w,70)}else{if(this.snake.score<=80){clearInterval(v);v=setInterval(w,65)}else{if(this.snake.score<=100){clearInterval(v);v=setInterval(w,50)}}}}}}}}}}}.bind(c));s.addEventListener("touchstart",function(x){x.preventDefault();q=new Date();if(this.snake.direction=="bottom"){this.snake.direction="bottom"}else{this.snake.direction="top";this.snake.tdeg="rotate(270deg)";s.style.backgroundColor="rgba(255,255,255,.5)"}t()}.bind(c));s.addEventListener("touchend",function(x){x.preventDefault();j=new Date;clearTimeout(i);clearInterval(v);clearInterval(k);s.style.backgroundColor="rgba(255,255,255,.3)";if(this.snake.score<=1){clearInterval(v);v=setInterval(w,180)}else{if(this.snake.score<=3){clearInterval(v);v=setInterval(w,160)}else{if(this.snake.score<=9){clearInterval(v);v=setInterval(w,130)}else{if(this.snake.score<=17){clearInterval(v);v=setInterval(w,110)}else{if(this.snake.score<=25){clearInterval(v);v=setInterval(w,90)}else{if(this.snake.score<=35){clearInterval(v);v=setInterval(w,80)}else{if(this.snake.score<=45){clearInterval(v);v=setInterval(w,75)}else{if(this.snake.score<=60){clearInterval(v);v=setInterval(w,70)}else{if(this.snake.score<=80){clearInterval(v);v=setInterval(w,65)}else{if(this.snake.score<=100){clearInterval(v);v=setInterval(w,50)}}}}}}}}}}}.bind(c));f.addEventListener("touchstart",function(x){x.preventDefault();q=new Date();if(this.snake.direction=="top"){this.snake.direction="top"}else{this.snake.direction="bottom";this.snake.tdeg="rotate(90deg)";f.style.backgroundColor="rgba(255,255,255,.5)"}t()}.bind(c));f.addEventListener("touchend",function(x){x.preventDefault();j=new Date;clearTimeout(i);clearInterval(v);clearInterval(k);f.style.backgroundColor="rgba(255,255,255,.3)";if(this.snake.score<=1){clearInterval(v);v=setInterval(w,180)}else{if(this.snake.score<=3){clearInterval(v);v=setInterval(w,160)}else{if(this.snake.score<=9){clearInterval(v);v=setInterval(w,130)}else{if(this.snake.score<=17){clearInterval(v);v=setInterval(w,110)}else{if(this.snake.score<=25){clearInterval(v);v=setInterval(w,90)}else{if(this.snake.score<=35){clearInterval(v);v=setInterval(w,80)}else{if(this.snake.score<=45){clearInterval(v);v=setInterval(w,75)}else{if(this.snake.score<=60){clearInterval(v);v=setInterval(w,70)}else{if(this.snake.score<=80){clearInterval(v);
v=setInterval(w,65)}else{if(this.snake.score<=100){clearInterval(v);v=setInterval(w,50)}}}}}}}}}}}.bind(c));function t(){if(c.snake.score<9){i=setTimeout(function(){k=setInterval(u,80)},500)}else{if(c.snake.score>9){i=setTimeout(function(){v=setInterval(w,50)},500)}}}var u=function(){clearInterval(v);this.snake.move(this.food,this.map);this.snake.render(this.map);var C=this.map.offsetWidth/this.snake.width;var B=this.map.offsetHeight/this.snake.height;var x=this.snake.body[0].x;var D=this.snake.body[0].y;if(x<0||x>=C){clearTimeout(i);clearInterval(v);clearInterval(k);n.style.display="block";m.innerHTML=this.snake.score}if(D<0||D>=B){clearTimeout(i);clearInterval(v);clearInterval(k);n.style.display="block";m.innerHTML=this.snake.score}for(var A=1;A<this.snake.body.length;A++){var z=this.snake.body[A].x;var y=this.snake.body[A].y;if(x===z&&D===y){clearTimeout(i);clearInterval(v);clearInterval(k);n.style.display="block";m.innerHTML=this.snake.score}}}.bind(c);var w=function(){this.snake.move(this.food,this.map);this.snake.render(this.map);var C=this.map.offsetWidth/this.snake.width;var B=this.map.offsetHeight/this.snake.height;var x=this.snake.body[0].x;var D=this.snake.body[0].y;if(this.snake.score<=1){clearInterval(v);v=setInterval(w,180)}else{if(this.snake.score<=3){clearInterval(v);v=setInterval(w,160)}else{if(this.snake.score<=9){clearInterval(v);v=setInterval(w,130)}else{if(this.snake.score<=17){clearInterval(v);v=setInterval(w,110)}else{if(this.snake.score<=25){clearInterval(v);v=setInterval(w,90)}else{if(this.snake.score<=35){clearInterval(v);v=setInterval(w,80)}else{if(this.snake.score<=45){clearInterval(v);v=setInterval(w,75)}else{if(this.snake.score<=60){clearInterval(v);v=setInterval(w,70)}else{if(this.snake.score<=80){clearInterval(v);v=setInterval(w,65)}else{if(this.snake.score<=100){clearInterval(v);v=setInterval(w,50)}}}}}}}}}}if(x<0||x>=C){clearTimeout(i);clearInterval(v);clearInterval(k);n.style.display="block";m.innerHTML=this.snake.score}if(D<0||D>=B){clearTimeout(i);clearInterval(v);clearInterval(k);n.style.display="block";m.innerHTML=this.snake.score}for(var A=1;A<this.snake.body.length;A++){var z=this.snake.body[A].x;var y=this.snake.body[A].y;if(x===z&&D===y){clearTimeout(i);clearInterval(v);clearInterval(k);n.style.display="block";m.innerHTML=this.snake.score}}}.bind(c)}window.Game=d})();(function(){var b=document.getElementById("container");var a=new Game(b);a.start()})();